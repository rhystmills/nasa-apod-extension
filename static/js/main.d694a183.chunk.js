(this["webpackJsonpnasa-apod"]=this["webpackJsonpnasa-apod"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/NASA_logo.ee15e8fa.svg"},13:function(e,t,a){e.exports=a.p+"static/media/tail-spin.a75a5f09.svg"},14:function(e,t,a){e.exports=a(41)},19:function(e,t,a){},20:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),o=a.n(r),s=(a(19),a(1)),l=a(2),c=a(5),d=a(4),u=a(3),h=(a(20),a(11)),p=a.n(h);var m=function(){return i.a.createElement("span",{className:"title"},i.a.createElement("img",{className:"logo",src:p.a,alt:"NASA logo"}),i.a.createElement("div",{className:"vertFlex"},i.a.createElement("h3",{className:"inline-block"},"Astronomy Photo of the Day")))},v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return this.props.copyright?i.a.createElement("h4",{className:"copyright"},"Copyright: ",this.props.copyright):i.a.createElement("h4",null)}}]),a}(i.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return(n=t.call.apply(t,[this,e].concat(r))).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",version:"1.1",viewBox:"0 0 7.937 7.937",className:this.props.className},i.a.createElement("g",{stroke:"none",strokeOpacity:"1",transform:"translate(0 -289.063)"},i.a.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",strokeWidth:"0.011",d:"M4.543 291.558l-.981 1.09h2.125v.763H3.562l.98 1.09h-.871l-1.417-1.472 1.417-1.471z"}),i.a.createElement("path",{style:{lineHeight:"normal",fontVariantLigatures:"normal",fontVariantPosition:"normal",fontVariantCaps:"normal",fontVariantNumeric:"normal",fontVariantAlternates:"normal",fontFeatureSettings:"normal",WebkitTextIndent:"0",textIndent:"0",WebkitTextAlign:"start",textAlign:"start",WebkitTextDecorationLine:"none",textDecorationLine:"none",WebkitTextDecorationStyle:"solid",textDecorationStyle:"solid",WebkitTextDecorationColor:"#000000",textDecorationColor:"#000000",WebkitTextTransform:"none",textTransform:"none",WebkitTextOrientation:"mixed",textOrientation:"mixed",whiteSpace:"normal",shapePadding:"0",isolation:"auto",mixBlendMode:"normal",solidColor:"#000000",solidOpacity:"1"},strokeDasharray:"none",strokeDashoffset:"0",strokeLinecap:"square",strokeLinejoin:"bevel",strokeMiterlimit:"4",strokeWidth:"0.383",d:"M3.97 289.16a3.872 3.872 0 013.87 3.87 3.872 3.872 0 01-3.87 3.868 3.872 3.872 0 01-3.868-3.869 3.872 3.872 0 013.869-3.868zm0 .384a3.483 3.483 0 00-3.485 3.485 3.483 3.483 0 003.486 3.486 3.483 3.483 0 003.485-3.486 3.483 3.483 0 00-3.485-3.485z",baselineShift:"baseline",clipRule:"nonzero",color:"#000",colorInterpolation:"sRGB",colorInterpolationFilters:"linearRGB",colorRendering:"auto",direction:"ltr",display:"inline",dominantBaseline:"auto",enableBackground:"accumulate",fontFamily:"sans-serif",fontSize:"medium",fontStretch:"normal",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",imageRendering:"auto",letterSpacing:"normal",opacity:"1",overflow:"visible",shapeRendering:"auto",textAnchor:"start",textDecoration:"none",textRendering:"auto",vectorEffect:"none",visibility:"visible",wordSpacing:"normal",writingMode:"lr-tb"})))}}]),a}(i.a.Component),b=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return(n=t.call.apply(t,[this,e].concat(r))).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",version:"1.1",viewBox:"0 0 7.937 7.937",className:this.props.className},i.a.createElement("g",{stroke:"none",strokeOpacity:"1",transform:"translate(0 -289.063)"},i.a.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",strokeWidth:"0.011",d:"M3.398 291.558l.981 1.09H2.254v.763h2.125l-.98 1.09h.871l1.417-1.472-1.417-1.471z"}),i.a.createElement("path",{style:{lineHeight:"normal",fontVariantLigatures:"normal",fontVariantPosition:"normal",fontVariantCaps:"normal",fontVariantNumeric:"normal",fontVariantAlternates:"normal",fontFeatureSettings:"normal",WebkitTextIndent:"0",textIndent:"0",WebkitTextAlign:"start",textAlign:"start",WebkitTextDecorationLine:"none",textDecorationLine:"none",WebkitTextDecorationStyle:"solid",textDecorationStyle:"solid",WebkitTextDecorationColor:"#000000",textDecorationColor:"#000000",WebkitTextTransform:"none",textTransform:"none",WebkitTextOrientation:"mixed",textOrientation:"mixed",whiteSpace:"normal",shapePadding:"0",isolation:"auto",mixBlendMode:"normal",solidColor:"#000000",solidOpacity:"1"},strokeDasharray:"none",strokeDashoffset:"0",strokeLinecap:"square",strokeLinejoin:"bevel",strokeMiterlimit:"4",strokeWidth:"0.383",d:"M3.97 289.16a3.872 3.872 0 00-3.868 3.87 3.872 3.872 0 003.869 3.868 3.872 3.872 0 003.868-3.869 3.872 3.872 0 00-3.868-3.868zm0 .384a3.483 3.483 0 013.486 3.485 3.483 3.483 0 01-3.485 3.486 3.483 3.483 0 01-3.486-3.486 3.483 3.483 0 013.486-3.485z",baselineShift:"baseline",clipRule:"nonzero",color:"#000",colorInterpolation:"sRGB",colorInterpolationFilters:"linearRGB",colorRendering:"auto",direction:"ltr",display:"inline",dominantBaseline:"auto",enableBackground:"accumulate",fontFamily:"sans-serif",fontSize:"medium",fontStretch:"normal",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",imageRendering:"auto",letterSpacing:"normal",opacity:"1",overflow:"visible",shapeRendering:"auto",textAnchor:"start",textDecoration:"none",textRendering:"auto",vectorEffect:"none",visibility:"visible",wordSpacing:"normal",writingMode:"lr-tb"})))}}]),a}(i.a.Component),g=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e="";e=this.props.nextDayAvailable?"active":"inactive";var t="";return t=this.props.prevDayAvailable?"active":"inactive",i.a.createElement("nav",{className:"dayButtons"},i.a.createElement("div",{className:"inlineBlock nextButton dayButton ".concat(e),onClick:this.props.nextDay},i.a.createElement(f,{className:"buttonImg ".concat(e)}),i.a.createElement("span",{className:"buttonText"},"Next Day")),i.a.createElement("div",{className:"inlineBlock prevButton dayButton ".concat(t),onClick:this.props.prevDay},i.a.createElement("span",{className:"buttonText"},"Previous Day"),i.a.createElement(b,{className:"buttonImg ".concat(t)})))}}]),a}(i.a.Component),y=a(6),x=a(8),O=a(12),D=a(7),k=a.n(D),E=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return(n=t.call.apply(t,[this,e].concat(r))).state={top:0,scrollTop:0,scrollHeight:0,clientHeight:0},n.handleUpdate=n.handleUpdate.bind(Object(c.a)(n)),n.renderView=n.renderView.bind(Object(c.a)(n)),n.renderThumb=n.renderThumb.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleUpdate",value:function(e){var t=e.top,a=this.refs,n=a.shadowTop,i=a.shadowBottom,r=e.scrollTop,o=e.scrollHeight,s=e.clientHeight,l=.1*Math.min(r,20),c=o-s,d=.1*(c-Math.max(r,c-20));k()(n,{opacity:l}),k()(i,{opacity:d}),this.setState({top:t})}},{key:"renderView",value:function(e){var t=e.style,a=Object(x.a)(e,["style"]);this.state.top;return i.a.createElement("div",Object.assign({className:"box",style:Object(y.a)(Object(y.a)({},t),{paddingRight:20})},a))}},{key:"renderThumb",value:function(e){var t=e.style,a=Object(x.a)(e,["style"]);this.state.top;return i.a.createElement("div",Object.assign({className:"thumb",style:Object(y.a)({},t)},a))}},{key:"render",value:function(){var e=this.props,t=e.style,a=(Object(x.a)(e,["style"]),Object(y.a)(Object(y.a)({},t),{},{position:"relative"}));return i.a.createElement("div",{style:a,className:"scrollbarPara"},i.a.createElement(O.Scrollbars,Object.assign({ref:"scrollbars",renderView:this.renderView,renderThumbHorizontal:this.renderThumb,renderThumbVertical:this.renderThumb,onUpdate:this.handleUpdate,className:"scrollbarPara"},this.props)),i.a.createElement("div",{ref:"shadowTop",style:{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,height:40,background:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%)"}}),i.a.createElement("div",{ref:"shadowBottom",style:{position:"absolute",pointerEvents:"none",bottom:0,left:0,right:0,height:40,background:"linear-gradient(to top, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%)"}}))}}]),a}(n.Component),j=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=new Date(this.props.date),t=this.props.description;return t?i.a.createElement("div",{className:"CaptionPanel"},i.a.createElement("header",null,i.a.createElement(m,null),i.a.createElement("h1",null,this.props.title),i.a.createElement("h5",null,e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})),i.a.createElement(v,{copyright:this.props.copyright})),i.a.createElement("hr",null),i.a.createElement("section",{className:"description"},i.a.createElement(E,null,t.map((function(e,t){return i.a.createElement("p",{key:t},e)})))),i.a.createElement(g,{nextDay:this.props.nextDay,prevDay:this.props.prevDay,nextDayAvailable:this.props.nextDayAvailable,prevDayAvailable:this.props.prevDayAvailable})):i.a.createElement("div",{className:"CaptionPanel"})}}]),a}(i.a.Component),S=a(13),w=a.n(S);var N=function(){return i.a.createElement("span",{className:"vertFlex w100"},i.a.createElement("img",{className:"",src:w.a,alt:"NASA logo"}))},A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loaded:!1},n.imgIsRendered=n.imgIsRendered.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.url!=this.props.url&&(console.log("New image"),this.setState({loaded:!1}))}},{key:"imgIsRendered",value:function(){console.log("loaded"),this.setState({loaded:!0})}},{key:"render",value:function(){return"string"===typeof this.props.url?-1===this.props.url.indexOf("youtube")?i.a.createElement("div",{className:"Canvas"},i.a.createElement("div",{className:"loadSpinner ".concat(this.state.loaded?"hidden":"visible")},i.a.createElement(N,null)),i.a.createElement("img",{className:"imgOrVid",src:this.props.url,alt:this.props.alt,onLoad:this.imgIsRendered})):i.a.createElement("div",{className:"Canvas"},i.a.createElement("div",{className:"loadSpinner ".concat(this.state.loaded?"hidden":"visible")},i.a.createElement(N,null)),i.a.createElement("iframe",{className:"imgOrVid vid",src:this.props.url,title:this.props.alt,onLoad:this.imgIsRendered})):i.a.createElement("div",{className:"Canvas"},i.a.createElement("img",{className:"imgOrVid",src:this.props.url,alt:this.props.alt}))}}]),a}(i.a.Component),T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"offlineInd ".concat(this.state.online?"hidden":"visible")},"Offline")}}]),a}(i.a.Component),R=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={title:"",description:["Loading"],copyright:"",img:"",apiKey:"fO78QBK23wPALw57sGRZJLY9vJB4d4ZM6qYSziIJ",date:"",requestedDate:"",apiResults:{},url:"",nextDayAvailable:!1,previousDayAvailable:!1},n.nextDay=n.nextDay.bind(Object(c.a)(n)),n.prevDay=n.prevDay.bind(Object(c.a)(n)),n.testDay=n.testDay.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("localResults")),a="";a=t&&!t.code?this.dateToString(t.date):this.dateToString(),t&&!t.code&&this.setState({title:t.title,copyright:t.copyright,url:t.url,description:this.parseDescription(t.explanation),date:a}),a=this.dateToString(),this.setState({date:a}),this.setState({requestedDate:this.dateToString()},(function(){e.fetchFromApi()})),navigator.onLine?console.log("online"):console.log("offline"),window.addEventListener("online",(function(e){console.log("online")}),!1),window.addEventListener("offline",(function(e){console.log("offline")}),!1)}},{key:"nextDay",value:function(){var e=this;this.setState({requestedDate:this.dateToString(this.state.date,1)},(function(){e.fetchFromApi()}))}},{key:"prevDay",value:function(){var e=this,t=this.dateToString(this.state.date,-1);this.setState({requestedDate:t},(function(){e.fetchFromApi()}))}},{key:"testDay",value:function(e,t){var a=this,n="";this.fetchPostsFromApod(e).then((function(e){return function(e){n=!e.code;t?a.setState({prevDayAvailable:n}):a.setState({nextDayAvailable:n})}(e)}))}},{key:"dateToString",value:function(e,t){var a="";return a=e?new Date(e):new Date,t&&a.setDate(a.getDate()+t),a=a.toISOString().slice(0,10)}},{key:"fetchFromApi",value:function(){var e=this;this.fetchPostsFromApod().then((function(t){t.code||e.setState({requestedDate:t.date},(function(){return e.processResults(t)}))}))}},{key:"fetchPostsFromApod",value:function(e){return fetch("https://api.nasa.gov/planetary/apod?api_key="+this.state.apiKey+"&date="+(e||this.state.requestedDate)).then((function(e){return e.json()}))}},{key:"processResults",value:function(e){localStorage.setItem("localResults",JSON.stringify(e));var t=this.dateToString(this.state.requestedDate,1),a=this.dateToString(this.state.requestedDate,-1);this.testDay(t),this.testDay(a,!0),this.setState({title:e.title,copyright:e.copyright,url:e.url,description:this.parseDescription(e.explanation),date:this.state.requestedDate})}},{key:"parseDescription",value:function(e){var t=e;return-1!==e.indexOf("   ")&&t.slice(t.indexOf("   "),t.length-1).length<300&&(t=t.slice(0,t.indexOf("   "))),function e(t,a){var n=a||[];if(-1!==t.indexOf(".  ")){var i=t.slice(0,t.indexOf(".  ")+1),r=t.slice(t.indexOf(".  ")+3,t.length);n.push(i),e(r,n)}else n.push(t);return n}(t)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(T,null),i.a.createElement(A,{url:this.state.url,alt:this.state.title}),i.a.createElement(j,{title:this.state.title,description:this.state.description,copyright:this.state.copyright,nextDay:this.nextDay,prevDay:this.prevDay,date:this.state.date,nextDayAvailable:this.state.nextDayAvailable,prevDayAvailable:this.state.prevDayAvailable}))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.d694a183.chunk.js.map