(this["webpackJsonpnasa-apod"]=this["webpackJsonpnasa-apod"]||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/NASA_logo.ee15e8fa.svg"},15:function(e,t,a){e.exports=a(44)},20:function(e,t,a){},21:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(12),r=a.n(o),s=(a(20),a(1)),l=a(2),c=a(5),h=a(3),u=a(6),p=a(4),d=(a(21),a(13)),m=a.n(d);var v=function(){return i.a.createElement("span",{className:"title"},i.a.createElement("img",{className:"logo",src:m.a,alt:"NASA logo"}),i.a.createElement("div",{className:"vertFlex"},i.a.createElement("h3",{className:"inline-block"},"Astronomy Photo of the Day")))},b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.copyright?i.a.createElement("h4",{className:"copyright"},"Copyright: ",this.props.copyright):i.a.createElement("h4",null)}}]),t}(i.a.Component),f=function(e){function t(e){var a,n;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return(n=Object(c.a)(this,(a=Object(h.a)(t)).call.apply(a,[this,e].concat(o)))).state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",version:"1.1",viewBox:"0 0 7.937 7.937",className:this.props.className},i.a.createElement("g",{stroke:"none",strokeOpacity:"1",transform:"translate(0 -289.063)"},i.a.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",strokeWidth:"0.011",d:"M4.543 291.558l-.981 1.09h2.125v.763H3.562l.98 1.09h-.871l-1.417-1.472 1.417-1.471z"}),i.a.createElement("path",{style:{lineHeight:"normal",fontVariantLigatures:"normal",fontVariantPosition:"normal",fontVariantCaps:"normal",fontVariantNumeric:"normal",fontVariantAlternates:"normal",fontFeatureSettings:"normal",WebkitTextIndent:"0",textIndent:"0",WebkitTextAlign:"start",textAlign:"start",WebkitTextDecorationLine:"none",textDecorationLine:"none",WebkitTextDecorationStyle:"solid",textDecorationStyle:"solid",WebkitTextDecorationColor:"#000000",textDecorationColor:"#000000",WebkitTextTransform:"none",textTransform:"none",WebkitTextOrientation:"mixed",textOrientation:"mixed",whiteSpace:"normal",shapePadding:"0",isolation:"auto",mixBlendMode:"normal",solidColor:"#000000",solidOpacity:"1"},strokeDasharray:"none",strokeDashoffset:"0",strokeLinecap:"square",strokeLinejoin:"bevel",strokeMiterlimit:"4",strokeWidth:"0.383",d:"M3.97 289.16a3.872 3.872 0 013.87 3.87 3.872 3.872 0 01-3.87 3.868 3.872 3.872 0 01-3.868-3.869 3.872 3.872 0 013.869-3.868zm0 .384a3.483 3.483 0 00-3.485 3.485 3.483 3.483 0 003.486 3.486 3.483 3.483 0 003.485-3.486 3.483 3.483 0 00-3.485-3.485z",baselineShift:"baseline",clipRule:"nonzero",color:"#000",colorInterpolation:"sRGB",colorInterpolationFilters:"linearRGB",colorRendering:"auto",direction:"ltr",display:"inline",dominantBaseline:"auto",enableBackground:"accumulate",fontFamily:"sans-serif",fontSize:"medium",fontStretch:"normal",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",imageRendering:"auto",letterSpacing:"normal",opacity:"1",overflow:"visible",shapeRendering:"auto",textAnchor:"start",textDecoration:"none",textRendering:"auto",vectorEffect:"none",visibility:"visible",wordSpacing:"normal",writingMode:"lr-tb"})))}}]),t}(i.a.Component),g=function(e){function t(e){var a,n;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return(n=Object(c.a)(this,(a=Object(h.a)(t)).call.apply(a,[this,e].concat(o)))).state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",version:"1.1",viewBox:"0 0 7.937 7.937",className:this.props.className},i.a.createElement("g",{stroke:"none",strokeOpacity:"1",transform:"translate(0 -289.063)"},i.a.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",strokeWidth:"0.011",d:"M3.398 291.558l.981 1.09H2.254v.763h2.125l-.98 1.09h.871l1.417-1.472-1.417-1.471z"}),i.a.createElement("path",{style:{lineHeight:"normal",fontVariantLigatures:"normal",fontVariantPosition:"normal",fontVariantCaps:"normal",fontVariantNumeric:"normal",fontVariantAlternates:"normal",fontFeatureSettings:"normal",WebkitTextIndent:"0",textIndent:"0",WebkitTextAlign:"start",textAlign:"start",WebkitTextDecorationLine:"none",textDecorationLine:"none",WebkitTextDecorationStyle:"solid",textDecorationStyle:"solid",WebkitTextDecorationColor:"#000000",textDecorationColor:"#000000",WebkitTextTransform:"none",textTransform:"none",WebkitTextOrientation:"mixed",textOrientation:"mixed",whiteSpace:"normal",shapePadding:"0",isolation:"auto",mixBlendMode:"normal",solidColor:"#000000",solidOpacity:"1"},strokeDasharray:"none",strokeDashoffset:"0",strokeLinecap:"square",strokeLinejoin:"bevel",strokeMiterlimit:"4",strokeWidth:"0.383",d:"M3.97 289.16a3.872 3.872 0 00-3.868 3.87 3.872 3.872 0 003.869 3.868 3.872 3.872 0 003.868-3.869 3.872 3.872 0 00-3.868-3.868zm0 .384a3.483 3.483 0 013.486 3.485 3.483 3.483 0 01-3.485 3.486 3.483 3.483 0 01-3.486-3.486 3.483 3.483 0 013.486-3.485z",baselineShift:"baseline",clipRule:"nonzero",color:"#000",colorInterpolation:"sRGB",colorInterpolationFilters:"linearRGB",colorRendering:"auto",direction:"ltr",display:"inline",dominantBaseline:"auto",enableBackground:"accumulate",fontFamily:"sans-serif",fontSize:"medium",fontStretch:"normal",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",imageRendering:"auto",letterSpacing:"normal",opacity:"1",overflow:"visible",shapeRendering:"auto",textAnchor:"start",textDecoration:"none",textRendering:"auto",vectorEffect:"none",visibility:"visible",wordSpacing:"normal",writingMode:"lr-tb"})))}}]),t}(i.a.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="";e=this.props.nextDayAvailable?"active":"inactive";var t="";return t=this.props.prevDayAvailable?"active":"inactive",i.a.createElement("nav",{className:"dayButtons"},i.a.createElement("div",{className:"inlineBlock nextButton dayButton ".concat(e),onClick:this.props.nextDay},i.a.createElement(f,{className:"buttonImg ".concat(e)}),i.a.createElement("span",{className:"buttonText"},"Next Day")),i.a.createElement("div",{className:"inlineBlock prevButton dayButton ".concat(t),onClick:this.props.prevDay},i.a.createElement("span",{className:"buttonText"},"Previous Day"),i.a.createElement(g,{className:"buttonImg ".concat(t)})))}}]),t}(i.a.Component),O=a(8),D=a(9),x=a(14),k=a(7),E=a.n(k),j=function(e){function t(e){var a,n;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return(n=Object(c.a)(this,(a=Object(h.a)(t)).call.apply(a,[this,e].concat(o)))).state={top:0,scrollTop:0,scrollHeight:0,clientHeight:0},n.handleUpdate=n.handleUpdate.bind(Object(u.a)(n)),n.renderView=n.renderView.bind(Object(u.a)(n)),n.renderThumb=n.renderThumb.bind(Object(u.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleUpdate",value:function(e){var t=e.top,a=this.refs,n=a.shadowTop,i=a.shadowBottom,o=e.scrollTop,r=e.scrollHeight,s=e.clientHeight,l=.1*Math.min(o,20),c=r-s,h=.1*(c-Math.max(o,c-20));E()(n,{opacity:l}),E()(i,{opacity:h}),this.setState({top:t})}},{key:"renderView",value:function(e){var t=e.style,a=Object(D.a)(e,["style"]);this.state.top;return i.a.createElement("div",Object.assign({className:"box",style:Object(O.a)({},t,{},{paddingRight:20})},a))}},{key:"renderThumb",value:function(e){var t=e.style,a=Object(D.a)(e,["style"]);this.state.top;return i.a.createElement("div",Object.assign({className:"thumb",style:Object(O.a)({},t)},a))}},{key:"render",value:function(){var e=this.props,t=e.style,a=(Object(D.a)(e,["style"]),Object(O.a)({},t,{position:"relative"}));return i.a.createElement("div",{style:a,className:"scrollbarPara"},i.a.createElement(x.Scrollbars,Object.assign({ref:"scrollbars",renderView:this.renderView,renderThumbHorizontal:this.renderThumb,renderThumbVertical:this.renderThumb,onUpdate:this.handleUpdate,className:"scrollbarPara"},this.props)),i.a.createElement("div",{ref:"shadowTop",style:{position:"absolute",pointerEvents:"none",top:0,left:0,right:0,height:40,background:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%)"}}),i.a.createElement("div",{ref:"shadowBottom",style:{position:"absolute",pointerEvents:"none",bottom:0,left:0,right:0,height:40,background:"linear-gradient(to top, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%)"}}))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new Date(this.props.date),t=this.props.description;return t?i.a.createElement("div",{className:"CaptionPanel"},i.a.createElement("header",null,i.a.createElement(v,null),i.a.createElement("h1",null,this.props.title),i.a.createElement("h5",null,e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})),i.a.createElement(b,{copyright:this.props.copyright})),i.a.createElement("hr",null),i.a.createElement("section",{className:"description"},i.a.createElement(j,null,t.map((function(e,t){return i.a.createElement("p",{key:t},e)})))),i.a.createElement(y,{nextDay:this.props.nextDay,prevDay:this.props.prevDay,nextDayAvailable:this.props.nextDayAvailable,prevDayAvailable:this.props.prevDayAvailable})):i.a.createElement("div",{className:"CaptionPanel"})}}]),t}(i.a.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"string"===typeof this.props.url?-1===this.props.url.indexOf("youtube")?i.a.createElement("div",{className:"Canvas"},i.a.createElement("img",{className:"imgOrVid",src:this.props.url,alt:this.props.alt})):i.a.createElement("div",{className:"Canvas"},i.a.createElement("iframe",{className:"imgOrVid vid",src:this.props.url,title:this.props.alt})):i.a.createElement("div",{className:"Canvas"},i.a.createElement("img",{className:"imgOrVid",src:this.props.url,alt:this.props.alt}))}}]),t}(i.a.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={title:"",description:["Loading"],copyright:"",img:"",apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,date:"",requestedDate:"",apiResults:{},url:"",nextDayAvailable:!1,previousDayAvailable:!1},a.nextDay=a.nextDay.bind(Object(u.a)(a)),a.prevDay=a.prevDay.bind(Object(u.a)(a)),a.testDay=a.testDay.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;JSON.parse(localStorage.getItem("localResults"));console.log("Outside local results"),e=this.dateToString(),this.setState({date:e}),this.setState({requestedDate:this.dateToString()},(function(){t.fetchFromApi()})),console.log("Hello 1"),navigator.onLine?console.log("online"):console.log("offline"),window.addEventListener("online",(function(e){console.log("online")}),!1),window.addEventListener("offline",(function(e){console.log("offline")}),!1)}},{key:"nextDay",value:function(){var e=this,t=this.dateToString(this.state.date,1);this.setState({requestedDate:t},(function(){e.fetchFromApi()}))}},{key:"prevDay",value:function(){var e=this,t=this.dateToString(this.state.date,-1);this.setState({requestedDate:t},(function(){e.fetchFromApi()}))}},{key:"testDay",value:function(e,t){var a=this,n="";this.fetchPostsFromApod(e).then((function(e){return function(e){n=!e.code;t?a.setState({prevDayAvailable:n}):a.setState({nextDayAvailable:n})}(e)}))}},{key:"dateToString",value:function(e,t){var a="";return a=e?new Date(e):new Date,t&&a.setDate(a.getDate()+t),a=a.toISOString().slice(0,10)}},{key:"fetchFromApi",value:function(){var e=this,t=this.fetchPostsFromApod();console.log(t),t.then((function(t){return e.processResults(t)}))}},{key:"fetchPostsFromApod",value:function(e){return fetch("https://api.nasa.gov/planetary/apod?api_key="+this.state.apiKey+"&date="+(e||this.state.requestedDate)).then((function(e){return e.json()}))}},{key:"processResults",value:function(e){if(localStorage.setItem("localResults",JSON.stringify(e)),e.code&&this.state.requestedDate===this.dateToString())this.setState({requestedDate:this.dateToString(this.dateToString(),-1)});else if(e.code)this.setState({requestedDate:this.dateToString()});else{var t=this.dateToString(this.state.requestedDate,1),a=this.dateToString(this.state.requestedDate,-1);this.testDay(t),this.testDay(a,!0),console.log(e),this.setState({title:e.title,copyright:e.copyright,url:e.url,description:this.parseDescription(e.explanation),date:this.state.requestedDate})}}},{key:"parseDescription",value:function(e){console.log(e);var t=e;return-1!==e.indexOf("   ")&&t.slice(t.indexOf("   "),t.length-1).length<200&&(console.log(t.slice(t.indexOf("   "),t.length-1)),t=t.slice(0,t.indexOf("   "))),function e(t,a){var n=a||[];if(-1!==t.indexOf("  ")){var i=t.slice(0,t.indexOf("  ")),o=t.slice(t.indexOf("  ")+2,t.length);n.push(i),e(o,n)}else n.push(t);return n}(t)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(T,{url:this.state.url,alt:this.state.title}),i.a.createElement(S,{title:this.state.title,description:this.state.description,copyright:this.state.copyright,nextDay:this.nextDay,prevDay:this.prevDay,date:this.state.date,nextDayAvailable:this.state.nextDayAvailable,prevDayAvailable:this.state.prevDayAvailable}))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.8cc12ad7.chunk.js.map